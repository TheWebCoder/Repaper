<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>Repaper: A Coding Project By Bryan Gonzalez</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <link rel="stylesheet" href="css/bootswatch.css">      

    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="css/site.css">

    <link rel="stylesheet" href="css/prism.css">

    <link rel="icon" type="image/png" href="img/favicon-32x32.png">

   <!-- Convert this to an external style sheet -->
   
</head>

<body class="d-flex flex-column h-100">
<!-- Nav Section -->
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="img/repaper-small-logo-white.png" class="d-inline-block align-text-top ps-2" height="33" alt=""></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="app.html">THE APP</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="code.html">THE CODE</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://github.com/TheWebCoder/Repaper">GIT REPO</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://bryangonzalez.dev/">ABOUT</a>
                </li>
            </ul>
        </div>
    </div>
    </nav>

    <!-- Main Section -->
    <main class="flex-shrink-0">
        <div class="container py-5 px-5 mt-5">
            <h2 class="border-1 border-bottom border-dark">The Code</h2>
            <div class="row row-cols-1 row-cols-lg-2">
                <div class="col-lg-8">
                    <pre class="line-numbers"><code class="language-javascript">
                        //get our user input
                        function getValues() {
                            //make sure the alert is invisible
                            if (document.getElementById("alert").classList.contains("visible")) {
                                document.getElementById("alert").classList.add("invisible");
                            }

                            //get user string for the page
                            let userString = document.getElementById("userString").value;

                            //check for palindrome
                            let returnObj = checkForPalindrome(userString);

                            //display our message to the screen
                            displayMessage(returnObj);
                        }

                        //check if the string is a palindrome
                        function checkForPalindrome(userString) {
                            
                            //converting userstring to lower case
                            userString = userString.toLowerCase();

                            //remove spaces and special characters
                            let regex = /[^a-z0-9]/gi;
                            userString = userString.replace(regex, "");

                            let revString = [];
                            let returnObj = {};

                            for (let i = userString.length - 1; i >= 0; i--) {
                                revString += userString[i];
                            }

                            if (revString == userString) {
                                returnObj.msg = "Well done! You entered a Palindrome!"
                            } else {
                                returnObj.msg = "Sorry! You did not enter a Palindrome!"
                            }

                            returnObj.reversed = revString;

                            return returnObj;
                        }

                        function displayMessage(returnObj) {
                            document.getElementById("alertHeader").innerHTML = returnObj.msg;
                            document.getElementById("msg").innerHTML = `Your phrase reversed is: ${returnObj.reversed}`;
                            document.getElementById("alert").classList.remove("invisible");
                        }
                    </code>
                    </pre>
                </div>
                <div class="col-lg-4">
                    <p>The Code is structured in three functions.</p>
                    <h5>getValues()</h5>
                    <p>This function is the entry point of the application. It gets triggered via an event listener on the submit button of the app page. In this function we first make sure the alert div is invisible by checking if contains the class visible and if it does it adds the invisible class to hide it. Next a variable is declared and assigned to the user's entered string value. Another variable is declared to hold the value of the result of passing the userString variable to the checkForPalindrome function. Lastly we pass that variable to our displayMessage function.</p>
                    <h5>checkForPalindrome(userString)</h5>
                    <p>Our logic for palindrome checking is handled by this function. This function accepts the userString variable as a parameter and does the following. First it converts every character in string to lower case, next using a regular expression, it removes all spaces and special characters. Next a for loop is used to reverse the user's string and a comparison is made with the claned user string and the reversed version. It then returns an object containing the reversed string and message on whether or not the string entered is a Palindrome.  </p>
                    <h5>displayMessage(returnObj)</h5>
                    <p>This acts like the display or view function. It displays the result of the palindrome check by updating the alertHeader with the message contained in returnObj. Additionally, it also displays the reversed string. To make sure the results is visible, it removes the invisible class from the alert element. </p>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer Section -->
    <footer class="footer mt-auto py-3 sticky-footer">
        <div class="container-fluid ">
            <div class="row row-cols-1 row-cols-lg-3 gy-2">
                <div class="col order-last order-lg-first text-dark">
                    <div><span class="text-muted">&copy;2023</span> Bryan Gonzalez | bryan@bryangonzalez.dev</div>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                    <a href="https://bryangonzalez.dev/" target="_blank"><img src="img/logo-full-name-dark.png" alt="Bryan Gonzalez Logo"></a>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-end">
                    <div class="row">
                        <div class="col social"><a href="https://www.linkedin.com/in/the-web-coder/" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></div>
                        <div class="col social"><a href="https://github.com/TheWebCoder/" target="_blank"><i class="fab fa-github fa-2x"></i></a></div>
                        <div class="col social"><a href="#" target="_blank"><i class="fab fa-twitter fa-2x"></i></a></div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
    </script>

    <script src="js/prism.js"></script>

    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        })
    </script>
    

</body>
</html>